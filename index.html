<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MCQ Practice - Section Wise </title>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Poppins", sans-serif;
      scroll-behavior: smooth;
    }

    body {
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      color: #222;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
      transition: 0.4s;
    }

    body.dark {
      background: linear-gradient(135deg, #1f1c2c, #928dab);
      color: #fff;
    }

    header {
      text-align: center;
      font-size: 2em;
      font-weight: 700;
      text-transform: uppercase;
      margin-bottom: 20px;
      color: #333;
    }

    body.dark header {
      color: #fff;
    }

    .grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-bottom: 25px;
    }

    .btn {
      background: #66a6ff;
      color: white;
      border: none;
      padding: 12px 18px;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
    }

    .btn:hover {
      transform: scale(1.05);
      background: #4e8ef7;
    }

    .container {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      padding: 30px;
      width: 100%;
      max-width: 800px;
      transition: 0.4s;
      overflow-y: auto;
      max-height: 90vh;
      display: none;
    }

    body.dark .container {
      background: rgba(20, 20, 30, 0.9);
    }

    h2 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.6em;
      color: #333;
    }

    body.dark h2 {
      color: #fff;
    }

    .topscore, .timer {
      text-align: center;
      font-size: 1rem;
      margin: 5px 0;
      font-weight: 600;
    }

    .timer {
      color: #f39c12;
    }

    .topscore {
      color: #00c851;
    }

    .question-card {
      text-align: center;
      background: rgba(255, 255, 255, 0.2);
      padding: 25px;
      border-radius: 16px;
      margin-bottom: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: 0.3s;
    }

    body.dark .question-card {
      background: rgba(255, 255, 255, 0.08);
    }

    .question {
      font-weight: 600;
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 15px;
    }

    .options {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }

    .options button {
      background: #eee;
      color: #333;
      padding: 12px 18px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
      min-width: 120px;
      text-align: center;
      font-weight: 600;
      border: none;
    }

    .options button:hover {
      background: #66a6ff;
      color: white;
    }

    body.dark .options button {
      background: #333;
      color: white;
    }

    body.dark .options button:hover {
      background: #4e8ef7;
    }

    .result {
      text-align: center;
      font-size: 1rem;
      font-weight: 600;
      margin-top: 10px;
      min-height: 1.5rem;
    }

    .submit-btn {
      display: block;
      margin: 20px auto;
      background: #00c851;
      color: white;
      font-weight: 700;
      padding: 12px 22px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    .submit-btn:hover {
      background: #009e3e;
      transform: scale(1.05);
    }

    .review {
      margin-top: 25px;
      background: rgba(255, 255, 255, 0.15);
      padding: 20px;
      border-radius: 12px;
      font-size: 15px;
    }

    .review h3 {
      color: #e74c3c;
      margin-bottom: 10px;
    }

    .review-item {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      padding: 10px 0;
    }

    body.dark .review-item {
      border-color: rgba(255, 255, 255, 0.1);
    }

    .summary {
      background: rgba(0, 255, 0, 0.05);
      border-radius: 8px;
      padding: 10px;
      margin-top: 10px;
    }

    footer {
      margin-top: 20px;
      text-align: center;
      font-size: 0.9em;
      color: #222;
    }

    body.dark footer {
      color: #ccc;
    }

    .toggle-theme {
      position: fixed;
      top: 15px;
      right: 15px;
      background: #222;
      color: white;
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      transition: 0.3s;
    }

    .toggle-theme:hover {
      background: #66a6ff;
    }

    @media (max-width: 600px) {
      header {
        font-size: 1.5em;
      }

      .btn, .options button {
        font-size: 14px;
        padding: 10px 14px;
      }

      .container {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="toggle-theme" onclick="toggleTheme()">ðŸŒ™</div>
  <header>MCQ Practice - Section Wise</header>

  <div class="grid">
    <button class="btn" onclick="start('alpha')">Alphabet â†” Number</button>
    <button class="btn" onclick="start('cube')">Cube Roots</button>
    <button class="btn" onclick="start('square')">Square Roots</button>
    <button class="btn" onclick="start('perc')">Percentage to Fraction</button>
    <button class="btn" onclick="start('multi')">Speed Multiplication</button>
  </div>

  <div id="alphaSection" class="container">
    <h2>Alphabet â†” Number</h2>
    <div class="topscore">Top Score: 20s</div>
    <div class="timer" id="alphaTimer">Time: 0s</div>
    <div class="question" id="alphaQ">Loading...</div>
    <div class="options" id="alphaOpts"></div>
    <div class="result" id="alphaRes"></div>
    <button class="submit-btn" id="alphaSubmit">Submit Section</button>
  </div>

  <div id="cubeSection" class="container">
    <h2>Cube Roots</h2>
    <div class="topscore">Top Score: 20s</div>
    <div class="timer" id="cubeTimer">Time: 0s</div>
    <div class="question" id="cubeQ">Loading...</div>
    <div class="options" id="cubeOpts"></div>
    <div class="result" id="cubeRes"></div>
    <button class="submit-btn" id="cubeSubmit">Submit Section</button>
  </div>

  <div id="squareSection" class="container">
    <h2>Square Roots</h2>
    <div class="topscore">Top Score: 20s</div>
    <div class="timer" id="squareTimer">Time: 0s</div>
    <div class="question" id="squareQ">Loading...</div>
    <div class="options" id="squareOpts"></div>
    <div class="result" id="squareRes"></div>
    <button class="submit-btn" id="squareSubmit">Submit Section</button>
  </div>

  <div id="percSection" class="container">
    <h2>Percentage to Fraction</h2>
    <div class="timer" id="percTimer">Time: 0s</div>
    <div class="question" id="percQ">Loading question...</div>
    <div class="options" id="percOpts"></div>
    <div class="result" id="percRes"></div>
    <button class="submit-btn" id="percSubmit">Submit Section</button>
  </div>

  <div id="multiSection" class="container">
    <h2>Speed Multiplication (Tables 10â€“30)</h2>
    <div class="timer" id="multiTimer">Time: 0s</div>
    <div class="question" id="multiQ">Loading question...</div>
    <div class="options" id="multiOpts"></div>
    <div class="result" id="multiRes"></div>
    <button class="submit-btn" id="multiSubmit">Submit Section</button>
  </div>

  <footer>
    Designed & Developed by <strong>S.Sivasaran</strong> â€” Insta:
    <a href="https://instagram.com/sivasaran_official" target="_blank">@sivasaran_official</a>
  </footer>

  <script>
    function toggleTheme() {
      document.body.classList.toggle("dark");
      document.querySelector(".toggle-theme").textContent = 
        document.body.classList.contains("dark") ? "â˜€ï¸" : "ðŸŒ™";
    }

    function shuffle(a){return a.sort(()=>Math.random()-0.5);}

    function genAlphaQs(n=40){
      const qs=[];
      for(let i=0;i<n;i++){
        if(Math.random()>0.5){
          let letter=String.fromCharCode(65+Math.floor(Math.random()*26));
          let ans=letter.charCodeAt(0)-64;
          let options=shuffle([ans,ans+1,ans-1,ans+2]);
          qs.push({q:`What is the number for letter ${letter}?`,ans:String(ans),opts:options.map(o=>String(o))});
        }else{
          let num=1+Math.floor(Math.random()*26);
          let ans=String.fromCharCode(64+num);
          let wrongs=[String.fromCharCode(64+((num+1-1)%26+1)),String.fromCharCode(64+((num+2-1)%26+1)),String.fromCharCode(64+((num+3-1)%26+1))];
          let options=shuffle([ans,...wrongs]);
          qs.push({q:`Which letter is number ${num}?`,ans:ans,opts:options});
        }
      }
      return qs;
    }

    function genCubeQs(n=40){
      const qs=[];
      for(let i=0;i<n;i++){
        let num=2+Math.floor(Math.random()*20);
        let cube=num*num*num;
        let options=shuffle([num,num+1,num-1,num+2]);
        qs.push({q:`Cube root of ${cube} = ?`,ans:String(num),opts:options.map(o=>String(o))});
      }
      return qs;
    }

    function genSquareQs(n=40){
      const qs=[];
      for(let i=0;i<n;i++){
        let num=2+Math.floor(Math.random()*40);
        let sq=num*num;
        let options=shuffle([num,num+1,num-1,num+2]);
        qs.push({q:`Square root of ${sq} = ?`,ans:String(num),opts:options.map(o=>String(o))});
      }
      return qs;
    }

    const percQs=[];
    for(let num=1;num<=10;num++){
      for(let den=1;den<=16;den++){
        if(num<den){
          const percent=((num/den)*100).toFixed(2).replace(/\.00$/,'');
          const answer=`${num}/${den}`;
          let options=new Set();
          options.add(answer);
          while(options.size<4){
            let rNum=Math.floor(Math.random()*10)+1;
            let rDen=Math.floor(Math.random()*16)+1;
            if(rNum<rDen) options.add(`${rNum}/${rDen}`);
          }
          percQs.push({q:`Convert ${percent}% to Fraction:`,ans:answer,opts:shuffle([...options])});
        }
      }
    }

    function genMultiQs(n=30){
      const qs=[];
      for(let i=0;i<n;i++){
        let table=Math.floor(Math.random()*21)+10; // 10 to 30
        let num=Math.floor(Math.random()*30)+1;    // 1 to 30
        let ans=table*num;
        let options=shuffle([ans,ans+1,ans-1,ans+table]);
        qs.push({q:`${table} Ã— ${num} = ?`,ans:String(ans),opts:options.map(o=>String(o))});
      }
      return qs;
    }

    function startSection(sectionId,qs){
      let idx=0,score=0,timer=0,interval;
      let wrongs=[];
      let totalTime=0,attempted=0;
      const qEl=document.getElementById(sectionId+"Q");
      const oEl=document.getElementById(sectionId+"Opts");
      const rEl=document.getElementById(sectionId+"Res");
      const tEl=document.getElementById(sectionId+"Timer");
      const sBtn=document.getElementById(sectionId+"Submit");
      const topEl=document.querySelector(`#${sectionId}Section .topscore`);

      function startTimer(){
        timer=0; clearInterval(interval);
        interval=setInterval(()=>{timer++;tEl.textContent=`Time: ${timer}s`;},1000);
      }
      function stopTimer(){clearInterval(interval);}

      function load(){
        rEl.textContent="";
        if(idx>=qs.length){
          qEl.textContent="Completed!";
          oEl.innerHTML="";
          stopTimer();
          return;
        }
        const q=qs[idx];
        qEl.textContent=q.q;
        oEl.innerHTML="";
        q.opts.forEach(opt=>{
          const b=document.createElement("button");
          b.textContent=opt;
          b.onclick=()=>check(opt);
          oEl.appendChild(b);
        });
        startTimer();
      }

      function check(opt){
        stopTimer();
        attempted++;
        totalTime+=timer;
        const correct = qs[idx].ans;
        if(opt===correct){
          score++;
          rEl.textContent=`âœ… Correct! | Time: ${timer}s`;
          if(timer<20 && topEl) topEl.textContent=`Top Score: ${timer}s`;
        }else{
          rEl.textContent=`âŒ Wrong! Correct: ${correct} | Your: ${opt} | Time: ${timer}s`;
          wrongs.push({q:qs[idx].q,your:opt,correct,time:timer});
        }
        idx++;
        setTimeout(load,500);
      }

      sBtn.onclick=()=>{
        stopTimer();
        qEl.textContent=`Section Completed. Score: ${score}/${attempted}`;
        oEl.innerHTML="";
        let review=document.createElement("div");
        review.className="review";
        let wrongHtml="<h3>Review Wrong Answers:</h3>";
        if(wrongs.length===0){wrongHtml+="<p>All correct ðŸŽ‰</p>";}
        else{
          wrongs.forEach((w,i)=>{
            wrongHtml+=`<p><b>Q${i+1}:</b> ${w.q}<br>Your: ${w.your} | Correct: ${w.correct} | Time: ${w.time}s</p>`;
          });
        }
        let avgTime=(attempted>0?(totalTime/attempted):0).toFixed(2);
        let accuracy=(attempted>0?((score/attempted)*100):0).toFixed(2);
        wrongHtml+=`<div class="summary"><b>Summary:</b><br>Attempted: ${attempted}<br>Accuracy: ${accuracy}%<br>Average Time: ${avgTime}s</div>`;
        review.innerHTML=wrongHtml;
        rEl.innerHTML="";
        rEl.appendChild(review);
      };

      load();
    }

    function start(id){
      document.querySelectorAll('.container').forEach(c=>c.style.display='none');
      document.getElementById(id+'Section').style.display='block';
      if(id==='alpha') startSection('alpha',genAlphaQs());
      if(id==='cube') startSection('cube',genCubeQs());
      if(id==='square') startSection('square',genSquareQs());
      if(id==='perc') startSection('perc',percQs);
      if(id==='multi') startSection('multi',genMultiQs());
    }
  </script>
</body>
</html>

